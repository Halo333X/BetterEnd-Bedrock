{
  "format_version": "1.21.0",
  "minecraft:feature_rules": {
    "description": {
      "identifier": "betterend:ice_starfield_star_feature",
      "places_feature": "betterend:ice_starfield/star_weighted_random_feature"
    },
    "conditions": {
      "placement_pass": "sky_pass",
      "minecraft:biome_filter": {
          "test": "has_biome_tag",
          "operator": "==",
          "value": "the_end"
        }
    },
    "distribution": {
      "iterations": "t.transitionnoise=q.noise(v.originx/64,v.originz/64)*0.25;t.x=v.originx/128;t.z=v.originz/128;t.d1=999.0;t.d2=999.0;t.c1=0.0;loop(4,{t.px=math.floor(t.x)+math.mod(0,2);t.pz=math.floor(t.z)+math.floor(0/2);t.hash_x=math.sin(t.px*12.9898+t.pz*78.233)*43758.5453;t.hash_z=math.sin(t.px*39.3467+t.pz*11.135)*96321.6543;t.rx=t.hash_x-math.floor(t.hash_x);t.rz=t.hash_z-math.floor(t.hash_z);t.d=math.pow(t.px+t.rx+t.transitionnoise-t.x,2)+math.pow(t.pz+t.rz+t.transitionnoise-t.z,2);(t.d<t.d1)?{t.d2=t.d1;t.d1=t.d;t.c1=t.rx;}: {(t.d<t.d2)?{t.d2=t.d;};};});t.IceStarfield=math.floor(t.c1*8);return(t.IceStarfield==0&&(math.abs(v.originx)>600||math.abs(v.originz)>600))?1:0;",
      "x": 0,
      "y": {
        "distribution": "uniform",
        "extent": [ 20, 50 ]
      },
      "z": 0
    }
  }
}
